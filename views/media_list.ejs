<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/style.css">
    <title>–°–ø–∏—Å–æ–∫ —Ñ–∏–ª—å–º–æ–≤</title>
</head>
<body>
    <h1>–°–ø–∏—Å–æ–∫ –º–µ–¥–∏–∞</h1>
    <h2>–§–∏–ª—å—Ç—Ä</h2>
    <form method="GET" action="/media">
        <input type="text" name="title" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ" value="<%= query.title || '' %>">

        <select name="type">
            <option value="">–õ—é–±–æ–π —Ç–∏–ø</option>
            <% types.forEach(t => { %>
                <option value="<%= t %>" <%= query.type === t ? 'selected' : '' %>><%= t.toUpperCase() %></option>
            <% }) %>
        </select>

        <select name="year">
            <option value="">–õ—é–±–æ–π –≥–æ–¥</option>
            <% years.forEach(y => { %>
                <option value="<%= y %>" <%= query.year == y ? 'selected' : '' %>><%= y %></option>
            <% }) %>
        </select>

        <button type="submit">üîç –ü–æ–∏—Å–∫</button>
    </form>

    <a href="/media/new">–î–æ–±–∞–≤–∏—Ç—å –º–µ–¥–∏–∞</a>
    <ul>
        <% media.forEach(m => { %>
            <li>
                <%= m.title %> (<%= m.type %>, <%= m.year %>) ‚Äî <%= m.price %> —Ä—É–±.
                <a href="/media/<%= m.id %>/edit">‚úèÔ∏è</a>
                <form method="POST" action="/media/<%= m.id %>/delete" style="display:inline-block">
                    <button type="submit">‚ùå</button>
                </form>
            </li>
        <% }) %>
    </ul>
</body> 
</html>

